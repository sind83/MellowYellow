const e=document.querySelector(".film-cards");function t(t,n=[],i){e.innerHTML="";const o=n.map((({poster_path:e,title:t,genre_ids:n,vote_average:o,release_date:a,id:s})=>{const c=i.map((e=>e.id)),d=i.map((e=>e.name)),l=[];n.forEach((e=>(l.push(c.indexOf(e)),l)));const r=l.map((e=>d[e])).slice(0,3).join(", "),u=t.slice(0,35)+"...";return`<div class='movie-card' data-movieId='${s}'>\n          <img class='movie-card__image' src='https://image.tmdb.org/t/p/w500/${e}' alt='${t}' loading='lazy' />\n  <div class='movie-card__info'>\n   <p class='info__title'>${t.length>=40?u:t}</p>\n   <p class='info__adds'>${r} | ${a.slice(0,4)}</p>\n   <p class='info__adds info__adds--vote'>${o}</p>   \n        </div></div>`})).join("");e.insertAdjacentHTML("afterbegin",o)}async function n(e){let n=[];for(const t of e)n.push(`https://api.themoviedb.org/3/movie/${t.id}?api_key=bf9c4d58b7779ca7f547438ec065a7d2`);console.log("Movies in this library (URL): ",n);const i=[];for(const e of n){let t=await(await fetch(e)).json(),n=t.genres,o=[];for(const e of n)o.push(e.id);t.genre_ids=o,i.push(t)}console.log("This library:",i),t(0,i,i[0].genres)}const i=document.querySelector(".navigation__item:nth-child(2)"),o=document.querySelector("[loadWatched]"),a=document.querySelector("[loadQueued]"),s=document.querySelector(".film-cards"),c=[JSON.parse(localStorage.getItem("movies-watched"))],d=[JSON.parse(localStorage.getItem("movies-queued"))];async function l(){o.classList.add("button--active"),o.classList.remove("button--inactive"),a.classList.add("button--inactive"),a.classList.remove("button--active"),s.innerHTML="",null!=c&&0!=c.length?(console.log(c),n(c[0])):s.innerHTML="<h2>You don't have any watched movies yet!</h2>"}i.addEventListener("click",(function(){})),o.addEventListener("click",l),a.addEventListener("click",(async function(){a.classList.add("button--active"),a.classList.remove("button--inactive"),o.classList.add("button--inactive"),o.classList.remove("button--active"),s.innerHTML="",null!=d&&0!=d.length?(console.log(d[0]),n(d[0])):s.innerHTML="<h2>You don't have any queued movies yet!</h2>"}));
//# sourceMappingURL=library.49022c2e.js.map
