!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=t.parcelRequirefdce;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},t.parcelRequirefdce=a),a.register("kMC0W",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){if(Array.isArray(e))return r.default(e)};var n,r=(n=a("8NIkP"))&&n.__esModule?n:{default:n}})),a.register("8NIkP",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}})),a.register("7AJDX",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}})),a.register("8CtQK",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}})),a.register("auk6i",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){if(!e)return;if("string"==typeof e)return r.default(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r.default(e,t)};var n,r=(n=a("8NIkP"))&&n.__esModule?n:{default:n}}));var i=a("bpxeT"),o=a("2TvXO"),s=a("iGUyU"),u={};Object.defineProperty(u,"__esModule",{value:!0}),u.default=function(e){return c.default(e)||l.default(e)||f.default(e)||d.default()};var c=v(a("kMC0W")),l=v(a("7AJDX")),d=v(a("8CtQK")),f=v(a("auk6i"));function v(e){return e&&e.__esModule?e:{default:e}}s=a("iGUyU");var p=a("gJQog"),g=document.querySelector(".film-cards__pagination"),_="...",b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(g.innerHTML="",e>=2){if(1!=t&&(g.innerHTML+='<div value="arrow_l" class="pagination__arrow left pagination__button"></div>',3!=t&&(g.innerHTML+='<div value="page" class="pagination__button">'.concat(1,"</div>"))),e<=8&&e>=2)for(var r=0;r<e;r++)g.innerHTML+='<div value="page" class="pagination__number pagination__button">'.concat(r+1,"</div>");else{var a=0+t;if(n)for(var i=a;i<a+6;i++)if(i==a&&t>3&&(g.innerHTML+='<div value ="dots_l" class = "pagination__button" >'.concat(_,"</div>")),i==5+a)t!=e-5&&(g.innerHTML+='<div value ="dots_r" class = "pagination__button" >'.concat(_,"</div>"));else if(t+1===-2)g.innerHTML+='<div value="page" class="pagination__button">'.concat(i,"</div>");else g.innerHTML+='<div value="page" class="pagination__button">'.concat(i-2,"</div>");else for(var o=a;o<a+6;o++)o==a&&t>5&&(g.innerHTML+='<div value ="dots_l" class = "pagination__button" >'.concat(_,"</div>")),o==5+a?t!=e-5&&(g.innerHTML+='<div value ="dots_r" class = "pagination__button" >'.concat(_,"</div>")):g.innerHTML+='<div value="page" class="pagination__button">'.concat(o,"</div>")}g.innerHTML+='<div value="page" class="pagination__button">'.concat(e,"</div>"),t!==e-5&&(g.innerHTML+='<div value="arrow_r" class = "pagination__arrow right pagination__button"></div>')}1==e&&(g.innerHTML+='<div value="page" class="pagination__button">'.concat(1,"</div>"))},m=1,h=1,y=function(t,n){var r=e(u)(t);r.map((function(e){"page"===e.getAttribute("value")&&e.textContent===n.toString()&&e.classList.add("selected")}))},M=function(){e(u)(g.children).map((function(e){e.classList.remove("selected")}))},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,p.popularMovies)(e).then((function(r){var a=r.movies.results,i=r.movies.total_pages;m=i;var o=r.genreIds.genres;t&&b(i,e>=m-5?e-5:e,n),(0,s.renderMovies)(0,a,o),M(),y(g.children,h)})).catch(console.warn)};L(m,!0),g.addEventListener("click",(function(e){var t=e.target,n=parseInt(t.textContent),r=t.getAttribute("value");if("page"==r){switch(n){case 1:case m:L(n,!0);default:L(n,!1)}h=n}else switch(r){case"dots_r":n=parseInt(t.previousElementSibling.textContent)+1,g.innerHTML="",L(n>=m?m-4:n,!0),h=n;break;case"dots_l":n=parseInt(t.nextElementSibling.textContent)-5,g.innerHTML="",L(n<5?1:n,!0),h=n;break;case"arrow_r":(n=h+=1)>m&&(g.innerHTML="",L(m-5,!0)),n<4?L(n,!1,!0):(g.innerHTML="",L(n,!0,!0)),arrowClicked=!1;break;case"arrow_l":n=h-=1,g.innerHTML="",L(n>1?n:1,!0,!0)}}));var x,T="bf9c4d58b7779ca7f547438ec065a7d2",w=document.querySelector(".search-form"),H=document.querySelector(".search-form__input"),k=(document.querySelector(".film-cards"),document.querySelector(".film-cards__pagination")),S=(x=e(i)(e(o).mark((function t(n){var r,a;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://api.themoviedb.org/3/search/movie?api_key=").concat(T,"&query=").concat(n));case 2:return e.next=4,e.sent.json();case 4:return r=e.sent,e.next=7,fetch("".concat("https://api.themoviedb.org/3/genre/movie/list?api_key=").concat(T));case 7:return e.next=9,e.sent.json();case 9:return a=e.sent,e.abrupt("return",{movies:r,genreIds:a});case 11:case"end":return e.stop()}}),t)}))),function(e){return x.apply(this,arguments)}),C=function(e){var t=document.createElement("p");return t.classList.contains("warning")&&(t.classList.remove("warning"),t.textContent=""),t.classList.add("warning"),t.textContent=e,w.after(t),t};w.addEventListener("submit",(function(e){e.preventDefault(),function(e){if(0===e.trim().length)return k.innerHTML="",C("Enter any character!");S(e).then((function(e){e.movies.page;var t=e.movies.results,n=e.movies.total_pages,r=e.movies.total_results;allPages=n;var a=e.genreIds.genres;if(0===r)return H.value="",C("Search result not successful. Enter the correct movie name or keywords and try again!");r<20&&(k.innerHTML=""),(0,s.renderMovies)(0,t,a)})).catch((function(e){return console.log(e)}))}(H.value)}))}();
//# sourceMappingURL=index.31976fb4.js.map
