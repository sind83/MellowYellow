{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/runtime-799bc14cf0f8deb8.js","src/index.js","src/js/open_modal.js","node_modules/@parcel/runtime-js/lib/runtime-135de356e1431fa6.js","node_modules/@parcel/runtime-js/lib/runtime-284160161661ec51.js","node_modules/@parcel/runtime-js/lib/runtime-650ebd4f1743122c.js","node_modules/@parcel/runtime-js/lib/runtime-72e861f935fac57b.js","node_modules/@parcel/runtime-js/lib/runtime-819bf4b846e7e6ae.js","node_modules/@parcel/runtime-js/lib/runtime-4fce1471a664f340.js","src/js/modal_team.js","src/js/add_to_watched.js","src/js/add_to_queue.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"EVgbq\\\":\\\"index.3be5a581.js\\\",\\\"gh2fd\\\":\\\"krzysztof.30b29e2e.jpg\\\",\\\"bsHlr\\\":\\\"malgorzata.df1f1bf7.jpg\\\",\\\"fidwL\\\":\\\"szymon.b7d9ad61.jpg\\\",\\\"469AO\\\":\\\"dorota.b38eb718.jpg\\\",\\\"dGfyM\\\":\\\"marta.43c8a483.jpg\\\",\\\"dH3JR\\\":\\\"mateusz.640d1e4f.jpg\\\",\\\"glktb\\\":\\\"index.9f9a7720.js\\\"}\"));","//import './js/movie_search';\nimport './js/pagination';\nimport './js/open_modal';\nimport './js/add_to_queue';\n\nimport './js/add_to_watched';\n\n","import { renderModalMovie } from './cards_rendering';\n\nimport { modalTeam } from './modal_team';\n\nimport { API_KEY, GENRE_URL, API_URL } from './main_fetch.js';\n\nimport { displayModalLoader } from './loader_spinner';\n\nconst MOVIE_URL = `https://api.themoviedb.org/3/movie/`;\nconst refs = {\n  body: document.querySelector('body'),\n  backdropModal: document.querySelector('.backdrop'),\n  modal: document.querySelector('.modal-content'),\n};\n\nrefs.body.addEventListener('click', openModal);\nexport const oneMovieFetch = async movieId => {\n  const response = await fetch(`${MOVIE_URL}${movieId}?api_key=${API_KEY}`);\n  const movie = await response.json();\n  return movie;\n};\nfunction openModal(e) {\n  if (e.target.classList.contains('backdrop')) {\n    closeModal();\n  }\n  const id = e.target.getAttribute('data-movieId');\n  if (e.target?.closest('svg')?.classList.contains('modal-close')) {\n    closeModal();\n  } else {\n    document.addEventListener('keydown', checkModalKey);\n\n    if (e.target?.closest('div')?.classList.contains('movie-card')) {\n      refs.backdropModal.classList.remove('is-hidden');\n      // document.addEventListener('keydown', checkModalKey);\n      displayModalLoader();\n      oneMovieFetch(id).then(elem => {\n        setTimeout(() => {\n          renderModalMovie(elem);\n        }, 1000);\n      });\n    }\n    if (e.target?.closest('span')?.classList.contains('team-link')) {\n      refs.backdropModal.classList.remove('is-hidden');\n      // document.addEventListener('keydown', checkModalKey);\n      modalTeam();\n    }\n  }\n}\n\nfunction closeModal() {\n  refs.body.style.overflowY = 'scroll';\n  refs.backdropModal.classList.add('is-hidden');\n  document.removeEventListener('keydown', checkModalKey);\n\n  refs.modal.innerHTML = '';\n}\n\nfunction checkModalKey(e) {\n  console.log(e.code);\n  if (e.code === 'Escape') {\n    closeModal();\n  }\n}\n","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"gh2fd\");","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"bsHlr\");","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"fidwL\");","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"469AO\");","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"dGfyM\");","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"dH3JR\");","import krzysztof from '../images/krzysztof.jpg';\nimport malgorzata from '../images/malgorzata.jpg';\nimport szymon from '../images/szymon.jpg';\nimport dorota from '../images/dorota.jpg';\nimport marta from '../images/marta.jpg';\nimport mateusz from '../images/mateusz.jpg';\n\nexport function modalTeam() {\n  const teamMarkup = `\n  <div class=\"team-details\">\n    <h2 class=\"team-details__title\"> Mellow Yellow Team </h2>\n    <ul class=\"team-details__list list\">\n      <li class=\"team-details__item\">\n        <figure>\n          <img class=\"team_img\" src=\"${szymon}\" loading=\"lazy\" />\n          <figcaption>\n            <h3 class=\"team-details__name\">Szymon Dymański</h3>\n            <p class=\"team-details_role\">Team Lider / Developer</p>\n          </figcaption>\n        </figure>\n      </li>\n      <li class=\"team-details__item\">\n        <figure>\n          <img class=\"team_img\" src=\"${dorota}\" loading=\"lazy\" />\n          <figcaption>\n            <h3 class=\"team-details__name\">Dorota Domańska</h3>\n            <p class=\"team-details_role\">Scrum Master / Developer</p>\n          </figcaption>\n        </figure>\n      </li>\n      <li class=\"team-details__item\">\n        <figure>\n          <img class=\"team_img\" src=\"${malgorzata}\" loading=\"lazy\" />\n          <figcaption>\n            <h3 class=\"team-details__name\">Małgorzata Marczyńska</h3>\n            <p class=\"team-details_role\">Grey Goose / Developer</p>\n          </figcaption>\n        </figure>\n      </li>\n      <li class=\"team-details__item\">\n        <figure>\n          <img class=\"team_img\" src=\"${marta}\" loading=\"lazy\" />\n          <figcaption>\n            <h3 class=\"team-details__name\">Marta Domżalska</h3>\n            <p class=\"team-details_role\">Developer</p>\n          </figcaption>\n        </figure>\n      </li>\n      <li class=\"team-details__item\">\n        <figure>\n          <img class=\"team_img\" src=\"${mateusz}\" loading=\"lazy\" />\n          <figcaption>\n            <h3 class=\"team-details__name\">Mateusz Martin</h3>\n            <p class=\"team-details_role\">Developer</p>\n          </figcaption>\n        </figure>\n      </li>\n      <li class=\"team-details__item\">\n        <figure>\n          <img class=\"team_img\" src=\"${krzysztof}\" loading=\"lazy\" />\n          <figcaption>\n            <h3 class=\"team-details__name\">Krzysztof Flisikowski</h3>\n            <p class=\"team-details_role\">Developer</p>\n          </figcaption>\n        </figure>\n      </li>\n    </ul>\n  </div>\n     `;\n  const modalContent = document.querySelector('.modal-content');\n  modalContent.insertAdjacentHTML('afterbegin', teamMarkup);\n}\n","import { storageKeyQueue } from './add_to_queue';\nimport { Notify } from 'notiflix';\n\nconst modal = document.querySelector('.modal');\nexport const storageKeyWatched = 'movies-watched';\n\nmodal.addEventListener('click', ev => {\n  const targetEl = ev.target;\n  if (\n    targetEl.nodeName == 'BUTTON' &&\n    targetEl.classList.contains('button--watched')\n  ) {\n    // get movie data from DOM\n    const movieId = modal.querySelector('div[data-movieid]').dataset.movieid;\n    const movieTitle = modal.querySelector(\n      '.film-details__main-title'\n    ).innerHTML;\n\n    let watchedList = JSON.parse(localStorage.getItem(storageKeyWatched));\n    if (watchedList == null) {\n      watchedList = [];\n    }\n\n    // making a list of ids that are already in localStorage\n    let watchedIds = [];\n    watchedList.forEach(watchedMovie => {\n      watchedIds.push(watchedMovie.id);\n    });\n\n    // checking if the film is already in localStorage or not\n    if (watchedIds.includes(movieId)) {\n      Notify.warning('You already added the movie to watched');\n    } else {\n      // check if movie is in queue list ...\n      let queuedList = JSON.parse(localStorage.getItem(storageKeyQueue));\n      if (queuedList) {\n        // ... if it even exists ...\n        if (queuedList.length > 0) {\n          // ... and if it's not an empty array\n          let queuedIds = [];\n          queuedList.forEach(queuedMovie => {\n            queuedIds.push(queuedMovie.id);\n          });\n          // Remove movie from queue list, if it's in there\n          if (queuedIds.includes(movieId)) {\n            queuedList.splice(queuedIds.indexOf(movieId), 1);\n            localStorage.setItem(storageKeyQueue, JSON.stringify(queuedList));\n          }\n        }\n      }\n\n      // finally add movie to watched list\n      const movieInfo = {\n        id: movieId,\n        title: movieTitle,\n      };\n      watchedList.push(movieInfo);\n      localStorage.setItem(storageKeyWatched, JSON.stringify(watchedList));\n    }\n  }\n});","import { storageKeyWatched } from './add_to_watched';\nimport { Notify } from 'notiflix';\n\nconst modal = document.querySelector('.modal');\nexport const storageKeyQueue = 'movies-queued';\n\nmodal.addEventListener('click', ev => {\n  const targetEl = ev.target;\n  if (\n    targetEl.nodeName == 'BUTTON' &&\n    targetEl.classList.contains('button--queue')\n  ) {\n    // get movie data from DOM\n    const movieId = modal.querySelector('div[data-movieid]').dataset.movieid;\n    const movieTitle = modal.querySelector(\n      '.film-details__main-title'\n    ).innerHTML;\n\n    let queuedList = JSON.parse(localStorage.getItem(storageKeyQueue));\n    if (queuedList == null) {\n      queuedList = [];\n    }\n\n    // making a list of ids that are already in localStorage\n    let queuedIds = [];\n    queuedList.forEach(queuedMovie => {\n      queuedIds.push(queuedMovie.id);\n    });\n\n    //checking if the film is already in localStorage or not\n    if (queuedIds.includes(movieId)) {\n      Notify.warning('You already added the movie to queued');\n    } else {\n      // check if movie is in watched list ...\n      let watchedList = JSON.parse(localStorage.getItem(storageKeyWatched));\n      if (watchedList) {\n        // ... if it even exists ...\n        if (watchedList.length > 0) {\n          // ... and if it's not an empty array\n          let watchedIds = [];\n          watchedList.forEach(watchedMovie => {\n            watchedIds.push(watchedMovie.id);\n          });\n          // Remove movie from watched list, if it's in there\n          if (watchedIds.includes(movieId)) {\n            watchedList.splice(watchedIds.indexOf(movieId), 1);\n            localStorage.setItem(\n              storageKeyWatched,\n              JSON.stringify(watchedList)\n            );\n          }\n        }\n      }\n\n      // finally add movie to queued list\n      const movieInfo = {\n        id: movieId,\n        title: movieTitle,\n      };\n      queuedList.push(movieInfo);\n      localStorage.setItem(storageKeyQueue, JSON.stringify(queuedList));\n    }\n  }\n});"],"names":["parcelRequire","register","JSON","parse","$bpxeT","$ffd1f74c9f7a5341$exports","getBundleURL","resolve","$6c2783c23594abff$exports","$c215217f8a39d775$exports","$6a4d0929384c527e$exports","$2fb4a827ccf946ea$exports","$e1badc8df4d4f5b2$exports","$870bee002d937441$var$refs","body","document","querySelector","backdropModal","modal","addEventListener","e","ref","ref1","target","classList","contains","$870bee002d937441$var$closeModal","id","getAttribute","closest","ref2","ref3","ref4","ref5","$870bee002d937441$var$checkModalKey","remove","$eizMI","displayModalLoader","$870bee002d937441$export$d26b433b93abe1a0","then","elem","setTimeout","$iGUyU","renderModalMovie","teamMarkup","concat","$parcel$interopDefault","insertAdjacentHTML","$2TvXO","mark","_callee","movieId","response","movie","fetch","$gJQog","API_KEY","_ctx","sent","json","style","overflowY","add","removeEventListener","innerHTML","console","log","code","$a4ca6e042ef005e4$var$modal","$a4ca6e042ef005e4$export$495501e7ab0a9653","ev","targetEl","nodeName","dataset","movieid","movieTitle","watchedList","localStorage","getItem","watchedIds","forEach","watchedMovie","push","includes","$6JpON","Notify","warning","queuedList","$29a929db5866e5fb$export$88934817e6e237da","length","queuedIds","queuedMovie","splice","indexOf","setItem","stringify","movieInfo","title","$29a929db5866e5fb$var$modal"],"version":3,"file":"index.3be5a581.js.map"}