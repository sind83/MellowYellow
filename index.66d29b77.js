var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},o={},a=e.parcelRequirefdce;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in o){var a=o[e];delete o[e];var i={id:e,exports:{}};return t[e]=i,a.call(i.exports,i,i.exports),i.exports}var d=new Error("Cannot find module '"+e+"'");throw d.code="MODULE_NOT_FOUND",d}).register=function(e,t){o[e]=t},e.parcelRequirefdce=a),a("2tCoB"),a("2nhTy");var i=a("d96cH"),d=a("hpROT"),n=a("fHzm8"),s=a("3zUgC");const l={body:document.querySelector("body"),backdropModal:document.querySelector(".backdrop"),modal:document.querySelector(".modal-content")};l.body.addEventListener("click",(function(e){e.target.classList.contains("backdrop")&&c();const t=e.target.getAttribute("data-movieId");e.target?.closest("svg")?.classList.contains("modal-close")?c():(document.addEventListener("keydown",r),e.target?.closest("div")?.classList.contains("movie-card")&&(l.backdropModal.classList.remove("is-hidden"),(0,s.displayModalLoader)(),(async e=>{const t=await fetch(`https://api.themoviedb.org/3/movie/${e}?api_key=${n.API_KEY}`);return await t.json()})(t).then((e=>{setTimeout((()=>{(0,i.renderModalMovie)(e)}),1e3)}))),e.target?.closest("span")?.classList.contains("team-link")&&(l.backdropModal.classList.remove("is-hidden"),(0,d.modalTeam)()))}));function c(){l.body.style.overflowY="scroll",l.backdropModal.classList.add("is-hidden"),document.removeEventListener("keydown",r),l.modal.innerHTML=""}function r(e){console.log(e.code),"Escape"===e.code&&c()}var u=a("7Y9D8");const m=document.querySelector(".modal");m.addEventListener("click",(e=>{const t=e.target;if("BUTTON"==t.nodeName&&t.classList.contains("button--watched")){const e=m.querySelector("div[data-movieid]").dataset.movieid,t=m.querySelector(".film-details__main-title").innerHTML;let o=JSON.parse(localStorage.getItem("movies-watched"));null==o&&(o=[]);let a=[];if(o.forEach((e=>{a.push(e.id)})),a.includes(e))u.Notify.warning("You already added the movie to watched");else{let a=JSON.parse(localStorage.getItem(g));if(a&&a.length>0){let t=[];a.forEach((e=>{t.push(e.id)})),t.includes(e)&&(a.splice(t.indexOf(e),1),localStorage.setItem(g,JSON.stringify(a)))}const i={id:e,title:t};o.push(i),localStorage.setItem("movies-watched",JSON.stringify(o))}}}));u=a("7Y9D8");const f=document.querySelector(".modal"),g="movies-queued";f.addEventListener("click",(e=>{const t=e.target;if("BUTTON"==t.nodeName&&t.classList.contains("button--queue")){const e=f.querySelector("div[data-movieid]").dataset.movieid,t=f.querySelector(".film-details__main-title").innerHTML;let o=JSON.parse(localStorage.getItem(g));null==o&&(o=[]);let a=[];if(o.forEach((e=>{a.push(e.id)})),a.includes(e))u.Notify.warning("You already added the movie to queued");else{let a=JSON.parse(localStorage.getItem("movies-watched"));if(a&&a.length>0){let t=[];a.forEach((e=>{t.push(e.id)})),t.includes(e)&&(a.splice(t.indexOf(e),1),localStorage.setItem("movies-watched",JSON.stringify(a)))}const i={id:e,title:t};o.push(i),localStorage.setItem(g,JSON.stringify(o))}}}));
//# sourceMappingURL=index.66d29b77.js.map
